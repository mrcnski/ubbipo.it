---
const { links } = Astro.props;
---

<nav id="navbar"></nav> 

<style>
	#navbar {
		background-color: #ffffff;
		position: fixed;
		bottom: 0;
		width: 100%; 
		transition: bottom 0.3s; /* Transition effect when sliding down (and up) */

        height: 4rem;
        border-top: 2px solid #ddd;
        
        display: flex;
        align-items: center;
        justify-content: space-around;
	}
	
	:global(.nav-link) {
		display: block;
		text-align: center;
		padding: 15px;
		text-decoration: none;

		color: var(--brown);
        font-size: 22px;
	}
	
	:global(.nav-link):hover {
		background-color: #ddd;
		color: black;
	}
</style>

<script>
	/* When the user scrolls down, hide the navbar. When the user scrolls up, show the navbar */
	var prevScrollpos = window.scrollY;
	window.onscroll = function() {
		var currentScrollPos = window.scrollY;
		if (prevScrollpos > currentScrollPos) {
			document.getElementById("navbar")!.style.bottom = "0";
		} else {
			document.getElementById("navbar")!.style.bottom = "-4rem";
		}
		prevScrollpos = currentScrollPos;
	} 
</script>

<script>
	// Add all h2 ID's to the navbar.
	const h2s = document.querySelectorAll('h2');
	const navbar = document.querySelector('#navbar')!;
	h2s.forEach(h2 => {
		const id = h2.id;
		const text = h2.textContent;
		const a = document.createElement('a');

        a.classList.add('nav-link');
		a.href = `#${id}`;
		a.textContent = text;
		navbar.appendChild(a);
	});
</script>