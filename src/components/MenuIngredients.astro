---
interface Props {
    ingredients: Array<string>;
}

import iconSlowFood from "../assets/images/icon-slow-food.svg";

const { ingredients } = Astro.props;

const regexItalics = /["|“]([^"“”]+)["|”]/g;
const regexBold = /\*([^\*]+)\*/g;
const regexSlow = /{slow}/g;
---

<ul>
    {ingredients.map((ingredient) => 
        <li>
            <Fragment set:html={
                ingredient
                    .replace(regexItalics, "<i>$1</i>")
                    .replace(regexBold, "<b>$1</b>")
                    .replace(regexSlow, `<img src=${iconSlowFood.src} alt="Slow food" width="48" />`)
            }/>
        </li>
    )}
</ul>

<style>
    ul {
        margin: 0;
    }
    :global(img) {
        margin: 0 0.25rem;
        vertical-align: middle;
        display: inline-block;
    }
</style>